import{a as Z}from"./chunk-5LT5U6EV.js";import{a as J,b as I,c as W}from"./chunk-5FP5CUWN.js";import{a as R,b as D,c as L}from"./chunk-V2BBXFI7.js";import{a as $,b as ee,c as ie,d as te,e as ne,f as oe}from"./chunk-52S7DBCA.js";import"./chunk-IX6G3U3V.js";import{H as K,I as U,L as q,N as z,P as H,Q,R as X,S as Y,g as N,i as B,j as A,l as j}from"./chunk-LPSJYQ4T.js";import{Ab as M,Cb as p,Db as c,Eb as g,Ib as T,Pa as m,Qa as C,ca as S,eb as y,gb as v,kb as l,lb as r,ma as P,na as w,nb as V,pb as f,qb as b,rc as F,sc as O,ua as _,uc as G,va as h,yb as s,zb as k}from"./chunk-5J3ZMGMD.js";import"./chunk-FNBMN5FH.js";import{a as E,f as x}from"./chunk-CQCHLVVT.js";var me=o=>["/pages/lenguaje",o];function se(o,n){if(o&1&&(l(0,"mat-option",12),s(1),r()),o&2){let a=n.$implicit;v("value",a.code),m(),M(" ",a.name," ")}}function pe(o,n){if(o&1&&(l(0,"option",12),s(1),r()),o&2){let a=n.$implicit;v("value",a.code),m(),k(a.name)}}function ce(o,n){if(o&1){let a=V();l(0,"li"),s(1),l(2,"button",0),f("click",function(){let i=_(a).$implicit,e=b();return h(e.getListPalabras(i))}),s(3,"editar grupo palabra "),r(),l(4,"button",0),f("click",function(){let i=_(a).$implicit,e=b();return h(e.deleteGV(i.id))}),s(5,"eliminar grupo palabra "),r()()}if(o&2){let a=n.$implicit;m(),M(" ",a.nombre," ")}}function ge(o,n){if(o&1){let a=V();l(0,"div",19)(1,"div",17)(2,"input",14),g("ngModelChange",function(i){let e=_(a).$implicit;return c(e.col1,i)||(e.col1=i),h(i)}),r()(),l(3,"div",17)(4,"input",14),g("ngModelChange",function(i){let e=_(a).$implicit;return c(e.col2,i)||(e.col2=i),h(i)}),r()(),l(5,"div",17)(6,"button",0),f("click",function(){let i=_(a).$implicit,e=b(2);return h(e.deletepalabra(i.id))}),s(7,"eliminar palabra "),r()()()}if(o&2){let a=n.$implicit;m(2),p("ngModel",a.col1),m(2),p("ngModel",a.col2)}}function ue(o,n){if(o&1){let a=V();l(0,"div",13)(1,"input",14),g("ngModelChange",function(i){_(a);let e=b();return c(e.gv.nombre,i)||(e.gv.nombre=i),h(i)}),r(),l(2,"ul",15)(3,"div",16)(4,"div",17)(5,"input",14),g("ngModelChange",function(i){_(a);let e=b();return c(e.gv.nombre_col1,i)||(e.gv.nombre_col1=i),h(i)}),r()(),l(6,"div",17)(7,"div",17)(8,"input",14),g("ngModelChange",function(i){_(a);let e=b();return c(e.gv.nombre_col2,i)||(e.gv.nombre_col2=i),h(i)}),r()()()(),y(9,ge,8,2,"div",18),r()()}if(o&2){let a=b();m(),p("ngModel",a.gv.nombre),m(4),p("ngModel",a.gv.nombre_col1),m(3),p("ngModel",a.gv.nombre_col2),m(),v("ngForOf",a.listPalabra)}}var re=(()=>{let n=class n{constructor(t,i,e,u,d,de){this.ARoute=t,this.idiomaSV=i,this.palabraSV=e,this.gvSV=u,this.fileSV=d,this.router=de,this.idioma=new I,this.idiomaCopy=new I,this.listgv=[],this.listPalabra=[],this.listPalabraCopy=[],this.gv=new L,this.gvCopy=new L,this.showEditGV=!1,this.selectedlangs=W}ngOnInit(){this.id=this.ARoute.snapshot.paramMap.get("lengid").replace(/%20/g," "),this.getListaGV()}onKey(t){this.selectedlangs=this.search(t.target.value)}search(t){let i=t.toLowerCase();return W.filter(e=>e.code.toLowerCase().startsWith(i))}getIdioma(){return x(this,null,function*(){this.idioma=yield this.idiomaSV.getIdioma(this.id),this.idiomaCopy=E({},this.idioma)})}getListaGV(){this.gvSV.getListGrupoVocabulariobyIdiomaId(this.id).subscribe(t=>{debugger;this.getIdioma(),this.listgv=t})}getListPalabras(t){this.gv=t,this.gvCopy=E({},t),this.palabraSV.getListPalabrabyGvId(t.id).subscribe(i=>{this.listPalabra=JSON.parse(JSON.stringify(i)),this.listPalabraCopy=JSON.parse(JSON.stringify(this.listPalabra)),this.showEditGV=!0})}deleteidioma(){this.idiomaSV.deleteIdioma(this.idioma.id),this.idiomaSV.deleteAllIdiomaUserByIdioma(this.idioma.id),this.router.navigate(["/pages"])}deleteGV(t){this.gvSV.deleteGrupoVocabulario(t)}deletepalabra(t){this.palabraSV.deletePalabra(t)}export(){this.fileSV.getData(this.idioma.id)}guardar(){(this.idioma.nombre!=this.idiomaCopy.nombre||this.idioma.private!=this.idiomaCopy.private)&&(this.idioma.private!=this.idiomaCopy.private&&this.idiomaSV.editIdiomaUserChangePrivacy(this.idioma.id,this.idioma.private),this.idiomaSV.editIdioma(this.idioma.id,this.idioma.nombre,this.idioma.lenguaje,this.idioma.private)),(this.gv.nombre!=this.gvCopy.nombre||this.gv.nombre_col1!=this.gvCopy.nombre_col1||this.gv.nombre_col2!=this.gvCopy.nombre_col2)&&this.gvSV.editGrupoVocabulario(this.gv.id,this.gv.nombre,this.gv.nombre_col1,this.gv.nombre_col2),this.listPalabra.forEach((t,i)=>{(t.col1!=this.listPalabraCopy[i].col1||t.col2!=this.listPalabraCopy[i].col2)&&this.palabraSV.editPalabra(t.id,t.col1,t.col2)})}};n.\u0275fac=function(i){return new(i||n)(C(N),C(J),C(R),C(D),C(Z),C(B))},n.\u0275cmp=P({type:n,selectors:[["app-edit-lenguaje"]],decls:27,vars:11,consts:[[3,"click"],[3,"routerLink"],["type","text","placeholder","nombre lenguaje",3,"ngModelChange","ngModel"],[3,"valueChange","value"],[3,"keyup"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],["id","floats"],["id","listgv"],[4,"ngFor","ngForOf"],["id","editarGV",4,"ngIf"],[3,"value"],["id","editarGV"],["type","text","placeholder","nombregv",3,"ngModelChange","ngModel"],["id","tabla",1,"dark"],[1,"row","header"],[1,"col"],["class","row",4,"ngFor","ngForOf"],[1,"row"]],template:function(i,e){i&1&&(l(0,"h1"),s(1,"Editar Lenguaje:"),r(),l(2,"button",0),f("click",function(){return e.guardar()}),s(3,"guardar cambios"),r(),l(4,"button",0),f("click",function(){return e.deleteidioma()}),s(5,"borrar idioma"),r(),l(6,"button",0),f("click",function(){return e.export()}),s(7,"exportar idioma"),r(),l(8,"button",1),s(9,"volver al lenguaje"),r(),l(10,"input",2),g("ngModelChange",function(d){return c(e.idioma.nombre,d)||(e.idioma.nombre=d),d}),r(),l(11,"mat-form-field")(12,"mat-label"),s(13,"Selecciona un idioma"),r(),l(14,"mat-select",3),g("valueChange",function(d){return c(e.idioma.lenguaje,d)||(e.idioma.lenguaje=d),d}),l(15,"input",4),f("keyup",function(d){return e.onKey(d)}),r(),y(16,se,2,2,"mat-option",5),r()(),l(17,"select",6),g("ngModelChange",function(d){return c(e.idioma.lenguaje,d)||(e.idioma.lenguaje=d),d}),y(18,pe,2,2,"option",5),r(),l(19,"label")(20,"input",7),g("ngModelChange",function(d){return c(e.idioma.private,d)||(e.idioma.private=d),d}),r(),s(21,` lenguaje privado?
`),r(),l(22,"div",8)(23,"div",9)(24,"ul"),y(25,ce,6,1,"li",10),r()(),y(26,ue,10,4,"div",11),r()),i&2&&(m(8),v("routerLink",T(9,me,e.idioma.id)),m(2),p("ngModel",e.idioma.nombre),m(4),p("value",e.idioma.lenguaje),m(2),v("ngForOf",e.selectedlangs),m(),p("ngModel",e.idioma.lenguaje),m(),v("ngForOf",e.selectedlangs),m(2),p("ngModel",!e.idioma.private),m(5),v("ngForOf",e.listgv),m(),v("ngIf",e.showEditGV))},dependencies:[F,O,A,Q,X,U,K,H,q,z,ie,ee,ne,$]});let o=n;return o})();var _e=[{path:"",component:re}],le=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=w({type:n}),n.\u0275inj=S({imports:[j.forChild(_e),j]});let o=n;return o})();var Ae=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=w({type:n}),n.\u0275inj=S({imports:[G,le,Y,oe,te]});let o=n;return o})();export{Ae as EditLenguajeModule};
